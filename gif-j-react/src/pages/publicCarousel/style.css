.public_carousel__img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    cursor: pointer;
}

/* Override base styles for 2up and 4up layouts - ensure items are visible and sized correctly */
.carousel__item-wrapper--2up .public_carousel__img,
.carousel__item-wrapper--4up .public_carousel__img {
    width: auto !important;
    height: 100% !important;
    max-width: none !important;
    min-width: 0;
    max-height: 100% !important;
    min-height: 100% !important;
    /* Remove object-fit to allow natural scaling - image will scale to height, width auto */
    object-position: center;
    display: block !important;
    flex-shrink: 0;
    visibility: visible !important;
    opacity: 1 !important;
}

.carousel__version {
    position: absolute;
    top: 10px;
    left: 10px;
    color: rgba(255, 255, 255, 0.5);
    font-size: 12px;
    font-family: monospace;
    z-index: 1000;
    pointer-events: none;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.carousel__template {
    font-size: 11px;
    opacity: 0.7;
}

.carousel__slide {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100dvh; /* Use dynamic viewport height for better mobile/responsive support */
    height: 100vh; /* Fallback for browsers that don't support dvh */
    position: relative;
    min-height: 100dvh; /* Use dynamic viewport height for better mobile/responsive support */
    min-height: 100vh; /* Fallback for browsers that don't support dvh */
}

.carousel__slide--1up {
    flex-direction: row;
}

/* 2up layout: side-by-side slots, each 50% width, 100% height (8:9 aspect ratio for 16:9 screen) */
.carousel__slide--2up {
    display: flex !important;
    flex-direction: row !important;
    gap: 0 !important;
    width: 100% !important;
    height: 100dvh; /* Use dynamic viewport height for better mobile/responsive support */
    height: 100vh; /* Fallback for browsers that don't support dvh */
    flex-wrap: nowrap !important;
    justify-content: flex-start !important; /* Override center from base .carousel__slide */
    align-items: stretch !important; /* Override center from base .carousel__slide */
}

/* 4up layout: 2x2 grid, each slot maintains 16:9 aspect ratio (25% of screen size each) */
.carousel__slide--4up {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
    gap: 0;
    width: 100%;
    height: 100dvh; /* Use dynamic viewport height for better mobile/responsive support */
    height: 100vh; /* Fallback for browsers that don't support dvh */
    margin: 0;
    padding: 0;
    align-content: stretch;
    justify-content: stretch;
    place-items: stretch;
}

.carousel__item-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
}

.carousel__item-wrapper--1up {
    width: 100%;
    height: 100dvh; /* Use dynamic viewport height for better mobile/responsive support */
    height: 100vh; /* Fallback for browsers that don't support dvh */
    min-height: 100dvh; /* Use dynamic viewport height for better mobile/responsive support */
    min-height: 100vh; /* Fallback for browsers that don't support dvh */
}

/* 2up wrapper: each slot is 50% width, 100% height (8:9 aspect ratio for 16:9 screen) */
.carousel__item-wrapper--2up {
    flex: 0 0 50% !important;
    flex-basis: 50% !important;
    flex-grow: 0 !important;
    flex-shrink: 0 !important;
    display: flex !important;
    justify-content: center;
    align-items: stretch; /* Changed from center to stretch so items fill height */
    width: 50% !important;
    max-width: 50% !important;
    min-width: 50% !important;
    height: 100dvh; /* Use dynamic viewport height for better mobile/responsive support */
    height: 100vh; /* Fallback for browsers that don't support dvh */
    overflow: hidden;
    min-height: 100dvh; /* Use dynamic viewport height for better mobile/responsive support */
    min-height: 100vh; /* Fallback for browsers that don't support dvh */
    position: relative;
    visibility: visible !important;
    box-sizing: border-box;
}

/* 4up wrapper: each slot maintains 16:9 aspect ratio (25% of screen size) */
/* The 2x2 grid naturally creates 16:9 slots when the container is 16:9 */
.carousel__item-wrapper--4up {
    display: flex;
    justify-content: center;
    align-items: stretch; /* Changed from center to stretch so items fill height */
    width: 100%;
    height: 100%;
    overflow: hidden;
    position: relative;
    min-width: 0;
    min-height: 0;
}

/* 2up and 4up: All items fit to height of slot, centered, cropped left/right */
/* All aspect ratios use the same approach: fit to height, auto width, centered */
.carousel__item-wrapper--2up .public_carousel__img--square,
.carousel__item-wrapper--2up .public_carousel__img--landscape,
.carousel__item-wrapper--2up .public_carousel__img--portrait,
.carousel__item-wrapper--2up .carousel__item--square,
.carousel__item-wrapper--2up .carousel__item--landscape,
.carousel__item-wrapper--2up .carousel__item--portrait,
.carousel__item-wrapper--4up .public_carousel__img--square,
.carousel__item-wrapper--4up .public_carousel__img--landscape,
.carousel__item-wrapper--4up .public_carousel__img--portrait,
.carousel__item-wrapper--4up .carousel__item--square,
.carousel__item-wrapper--4up .carousel__item--landscape,
.carousel__item-wrapper--4up .carousel__item--portrait {
    width: auto !important;
    height: 100% !important;
    max-width: none !important;
    min-width: 0;
    min-height: 100% !important;
    /* Remove object-fit to allow natural scaling - image will scale to height, width auto, crop via overflow */
    object-position: center;
    margin: 0 auto;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}